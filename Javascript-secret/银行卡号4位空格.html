<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>银行卡号4位空格</title>
<style media="screen">
input{
    height: 40px;
    line-height: 40px;
    font-size: 20px;
    width: 300px;
    border:none;
    border-bottom: 1px solid #000;
    outline: none;
}
</style>
</head>
<body>
    <input type="text" id="card" />
<script src="https://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
<script type="text/javascript">
$(function() {

        $('#card').on('keyup', function(e) {
         //只对输入数字时进行处理
           if((e.which >= 48 && e.which <= 57) ||
                   (e.which >= 96 && e.which <= 105 )){
                //获取当前光标的位置
                var caret = this.selectionStart
                //获取当前的value
                var value = this.value
                //从左边沿到坐标之间的空格数
                var sp =  (value.slice(0, caret).match(/\s/g) || []).length
                //去掉所有空格
               var nospace = value.replace(/\s/g, '')
               //重新插入空格
               var curVal = this.value = nospace.replace(/(\d{4})/g, "$1 ").trim()
               //从左边沿到原坐标之间的空格数
               var curSp = (curVal.slice(0, caret).match(/\s/g) || []).length
              //修正光标位置
             this.selectionEnd = this.selectionStart = caret + curSp - sp

            }
        })
    })
</script>
</body>
</html>
