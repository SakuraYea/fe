<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>unique</title>
</head>
<body>
<script type="text/javascript">
    var arr = [1,2,3,4,'a','b','c','d',1,3,4,'a','b','c'];
    // 双重循环去重
    Array.prototype.unique1 = function(){
        var newArray =  [this[0]];
        for (var i = 1; i < this.length; i++) {
             var repeat = false;
             for (var j = 0; j < newArray.length; j++) {
                 if(this[i] == newArray[j]){
                     repeat = true;
                     break;
                 }
             }
             if (!repeat) {
                 newArray.push(this[i]);
             }
        }
        return newArray;
    };
    console.log(arr.unique1());
    //type2
    function unique2(){
        var newArray = [];
        this.forEach(function(index){
            if (newArray.indexOf(index) == -1) {
                newArray.push(index);
            }
        });
        return newArray;
    }
    console.log(unique2.call(arr));
    // type3
    Array.prototype.unique3 = function(){
        this.sort();
        var newArray = [];
        for (var i = 0; i < this.length; i++) {
            if (this[i] != newArray[newArray.length - 1]) {
                newArray.push(this[i]);
            }
        }
        return newArray;
    }
    console.log(arr.unique3());

    // 对象键值对法
    // 创建一个JavaScript对象以及新数组
    // 使用for循环遍历原数组，每次取出一个元素与JavaScript对象的键做对比
    // 如果不包含，将存入对象的元素的值推入到结果数组中,并且将存入object对象中该属性名的值设置为1
    Array.prototype.unique4 = function(){
        var newArray = [];
        var object = {};
        for (var i = 0; i < this.length; i++) {
            if (!object[typeof(this[i]) + this[i]]) {
                newArray.push(this[i]);
                object[typeof(this[i]) + this[i]] = 1;
            }
        }
        return newArray;
    }
    console.log(arr.unique4());


</script>
</body>
</html>
